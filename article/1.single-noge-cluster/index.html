<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
           hadoop官网翻译:Setting up a Single Node Cluster - 暗也橙子 | Blog
        
    </title>

    <link rel="canonical" href="http://www.ruozedata.com/article/1.single-noge-cluster/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="/css/beantech.min.css">

    <link rel="stylesheet" href="/css/donate.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <link rel="stylesheet" href="/css/widget.css">

    <link rel="stylesheet" href="/css/rocket.css">

    <link rel="stylesheet" href="/css/signature.css">

    <link rel="stylesheet" href="/css/toc.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            background-image: url('/img/article_header/article_header.png')
            /*post*/
        
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#hadoop" title="hadoop">hadoop</a>
                            
                        </div>
                        <h1> hadoop官网翻译:Setting up a Single Node Cluster</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by 暗也橙子 on
                            2018-12-11
                        </span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">暗也橙子Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    

                        
                    

                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Modify by Yu-Hsuan Yen -->

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h3 id="hadoop官网翻译setting-up-a-single-node-cluster">hadoop官网翻译:Setting up a Single Node Cluster.</h3>
<hr>
<h4 id="hadoop-setting-up-a-single-node-cluster">Hadoop: Setting up a Single Node Cluster.</h4>
<p>设置单节点集群。</p>
<p>▪ <a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Purpose" target="_blank" rel="noopener">Purpose</a><br>
▪ <a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Prerequisites" target="_blank" rel="noopener">Prerequisites</a><br>
　　▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Supported_Platforms" target="_blank" rel="noopener">Supported Platforms</a><br>
　　▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Required_Software" target="_blank" rel="noopener">Required Software</a><br>
　　▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Installing_Software" target="_blank" rel="noopener">Installing Software</a><br>
▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Installing_Software" target="_blank" rel="noopener">Download</a><br>
▪ <a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Prepare_to_Start_the_Hadoop_Cluster" target="_blank" rel="noopener">Prepare to Start the Hadoop Cluster</a><br>
▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Standalone_Operation" target="_blank" rel="noopener">Standalone Operation</a><br>
▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Pseudo-Distributed_Operation" target="_blank" rel="noopener">Pseudo-Distributed Operation</a><br>
　　▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Configuration" target="_blank" rel="noopener">Configuration</a><br>
　　▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Setup_passphraseless_ssh" target="_blank" rel="noopener">Setup passphraseless ssh</a><br>
　　▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Execution" target="_blank" rel="noopener">Execution</a><br>
　　▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#YARN_on_a_Single_Node" target="_blank" rel="noopener">YARN on a Single Node</a><br>
▪ <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Fully-Distributed_Operation" target="_blank" rel="noopener">Fully-Distributed Operation</a></p>
<p>▪ 目的<br>
先决条件<br>
　　▪ 支持平台<br>
　　▪ 所需软件<br>
　　▪ 安装软件<br>
▪ 下载<br>
▪ 准备开始安装Hadoop集群<br>
▪ 独立操作<br>
▪ 伪分布式操作<br>
　　▪ 配置<br>
　　▪ 设置无密码ssh<br>
　　▪ 执行<br>
　　▪ YARN在单节点上运行<br>
▪ 全分布式操作</p>
<h4 id="purpose">Purpose</h4>
<p>This document describes how to set up and configure a single-node Hadoop installation so that you can quickly perform simple operations using Hadoop MapReduce and the Hadoop Distributed File System (HDFS)</p>
<p>本文档描述了如何去建立并且配置一个单节点hadoop的安装，这样你就可以使用MR和HDFS快速执行简单的操作</p>
<h4 id="prerequisites">Prerequisites</h4>
<h5 id="supported-platforms">Supported Platforms</h5>
<ul>
<li>GNU/Linux is supported as a development and production platform. Hadoop has been demonstrated on GNU/Linux clusters with 2000 nodes.</li>
<li>Windows is also a supported platform but the followings steps are for Linux only. To set up Hadoop on Windows, see <a href="https://cwiki.apache.org/confluence/display/HADOOP2/Hadoop2OnWindows" target="_blank" rel="noopener">wiki page</a>．</li>
</ul>
<p>▪ 支持GNU/Linux作为开发和生产平台。Hadoop已经在具有2000个节点的GNU/Linux集群上进行了演示。<br>
▪ Windows也是一个受支持的平台，但是下面的步骤只适用于Linux。要在Windows上配置Hadoop，请参阅wiki页面。</p>
<h5 id="required-software">Required Software</h5>
<p>Required software for Linux include:<br>
　　1.Java™ must be installed. Recommended Java versions are described at HadoopJavaVersions.<br>
　　2.ssh must be installed and sshd must be running to use the Hadoop scripts that manage remote Hadoop daemons if the optional start and stop scripts are to be used. Additionally, it is recommmended that pdsh also be installed for better ssh resource management.</p>
<p>linux所需的软件<br>
　　1.必须安装java，在HadoopJavaVersions中查看适合的java版本<br>
　　2.如果要使用可选的启动和停止脚本，则必须安装 ssh 并运行 sshd 以使用管理远程 hadoop 守护进程的 hadoop 脚本。 此外，还建议安装 pdsh，以便更好地管理 ssh 资源。</p>
<h5 id="installing-software">Installing Software</h5>
<p>If your cluster doesn’t have the requisite software you will need to install it.<br>
For example on Ubuntu Linux:<br>
如果你的集群没有安装所需的软件，你需要安装它<br>
例如在 Ubuntu Linux:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  　　 $ sudo apt-get install ssh</span><br><span class="line">  　　 $ sudo apt-get install pdsh</span><br></pre></td></tr></table></figure>
<h4 id="download">Download</h4>
<p>To get a Hadoop distribution, download a recent stable release from one of the <a href="http://www.apache.org/dyn/closer.cgi/hadoop/common/" target="_blank" rel="noopener">Apache Download Mirrors</a>.</p>
<p>要获得Hadoop发行版，请从Apache下载镜像下载一个最新的稳定版本</p>
<h4 id="prepare-to-start-the-hadoop-cluster">Prepare to Start the Hadoop Cluster</h4>
<p>Unpack the downloaded Hadoop distribution. In the distribution, edit the file etc/hadoop/hadoop-env.sh to define some parameters as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  　　# set to the root of your Java installation</span><br><span class="line"> 　　 export JAVA_HOME=/usr/java/latest</span><br></pre></td></tr></table></figure>
<p>Try the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　 $ bin/hadoop</span><br></pre></td></tr></table></figure>
<p>This will display the usage documentation for the hadoop script.<br>
Now you are ready to start your Hadoop cluster in one of the three supported modes:</p>
<ul>
<li><a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Standalone_Operation" target="_blank" rel="noopener">Local (Standalone) Mode</a></li>
<li><a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Pseudo-Distributed_Operation" target="_blank" rel="noopener">Pseudo-Distributed Mode</a></li>
<li><a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Fully-Distributed_Operation" target="_blank" rel="noopener">Fully-Distributed Mode</a></li>
</ul>
<p>解压缩下载的Hadoop发行版。在发行版中，编辑文件etc/hadoop/hadoop-env.sh以定义以下一些参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　# set to the root of your Java installation</span><br><span class="line">　 　 export JAVA_HOME=/usr/java/latest</span><br></pre></td></tr></table></figure>
<p>尝试以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ bin/hadoop</span><br></pre></td></tr></table></figure>
<p>这个会显示hadoop脚本的使用文档</p>
<p>现在，您已经准备好在三种支持的模式之一中启动Hadoop集群<br>
　 ▪ 单机模式：默认情况下运行在一个单独机器上的独立Java进程，主要用于调试环境<br>
　 ▪ 伪分布模式：在单个机器上模拟成分布式多节点环境，每一个Hadoop守护进程都作为一个独立的Java进程运行<br>
　 ▪ 完全分布式模式：真实的生产环境，搭建在完全分布式的集群环境</p>
<h4 id="standalone-operation">Standalone Operation</h4>
<p>By default, Hadoop is configured to run in a non-distributed mode, as a single Java process. This is useful for debugging.</p>
<p>The following example copies the unpacked conf directory to use as input and then finds and displays every match of the given regular expression. Output is written to the given output directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">　　$ mkdir input</span><br><span class="line">　　$ cp etc/hadoop/*.xml input</span><br><span class="line">　　$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar grep input output &apos;dfs[a-z.]+&apos;</span><br><span class="line">　　$ cat output/*</span><br></pre></td></tr></table></figure>
<p>默认情况下，hadoop 被配置为以非分布式模式(作为单个 java 进程)运行。 这对调试很有用。<br>
下面的示例复制未打包的conf目录作为输入，然后查找并显示给定正则表达式的每个匹配。输出被写入给定的输出目录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">　　$ mkdir input</span><br><span class="line">　　$ cp etc/hadoop/*.xml input</span><br><span class="line">　　$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar grep input output &apos;dfs[a-z.]+&apos;</span><br><span class="line">　　$ cat output/*</span><br></pre></td></tr></table></figure>
<h4 id="pseudo-distributed-operation">Pseudo-Distributed Operation</h4>
<p>Hadoop can also be run on a single-node in a pseudo-distributed mode where each Hadoop daemon runs in a separate Java process.</p>
<p>Hadoop还可以在一个伪分布式模式的单个节点上运行，其中每个Hadoop守护进程在单独的Java进程中运行。</p>
<h5 id="configuration">Configuration</h5>
<p>Use the following:<br>
使用以下方法：<br>
etc/hadoop/core-site.xml:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>etc/hadoop/hdfs-site.xml:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>常用配置项说明：<br>
　　▪ fs.defaultFS这是默认的HDFS路径。当有多个HDFS集群同时工作时，用户在这里指定默认HDFS集群，该值来自于hdfs-site.xml中的配置。<br>
　　▪ fs.default.name这是一个描述集群中NameNode结点的URI(包括协议、主机名称、端口号)，集群里面的每一台机器都需要知道NameNode的地址。DataNode结点会先在NameNode上注册，这样它们的数据才可以被使用。独立的客户端程序通过这个URI跟DataNode交互，以取得文件的块列表。<br>
　　▪ hadoop.tmp.dir 是hadoop文件系统依赖的基础配置，很多路径都依赖它。如果hdfs-site.xml中不配置namenode和datanode的存放位置，默认就放在/tmp/hadoop-${<a href="http://user.name" target="_blank" rel="noopener">user.name</a>}这个路径中。<br>
更多说明请参考<a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/core-default.xml" target="_blank" rel="noopener">core-default.xml</a> ，包含配置文件所有配置项的说明和默认值。</p>
<h5 id="setup-passphraseless-ssh">Setup passphraseless ssh</h5>
<p>Now check that you can ssh to the localhost without a passphrase:<br>
现在检查是否可以在没有密码的情况下ssh到本地主机：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ ssh localhost</span><br></pre></td></tr></table></figure>
<p>If you cannot ssh to localhost without a passphrase, execute the following commands:<br>
如果没有密码无法ssh到localhost，请执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">　　$ ssh-keygen -t rsa -P &apos;&apos; -f ~/.ssh/id_rsa</span><br><span class="line">　　$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br><span class="line">　　$ chmod 0600 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>
<h5 id="execution">Execution</h5>
<p>The following instructions are to run a MapReduce job locally. If you want to execute a job on YARN, see <a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#YARN_on_Single_Node" target="_blank" rel="noopener">YARN on Single Node</a>.</p>
<p>以下说明将在本地运行MapReduce作业。如果您想在YARN上执行作业，请参阅YARN on Single Node。</p>
<p>在使用hadoop前，必须格式化一个全新的HDFS安装，通过创建存储目录和NameNode持久化数据结构的初始版本，格式化过程创建了一个空的文件系统。由于NameNode管理文件系统的元数据，而DataNode可以动态的加入或离开集群，因此这个格式化过程并不涉及DataNode。同理，用户也无需关注文件系统的规模。集群中DataNode的数量决定着文件系统的规模。DataNode可以在文件系统格式化之后的很长一段时间内按需增加。</p>
<ol>
<li>Format the filesystem:<br>
格式化文件系统:</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ bin/hdfs namenode -format</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Start NameNode daemon and DataNode daemon:<br>
启动NameNode和DataNode的守护进程:</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ sbin/start-dfs.sh</span><br></pre></td></tr></table></figure>
<p>The hadoop daemon log output is written to the $HADOOP_LOG_DIR directory (defaults to $HADOOP_HOME/logs).<br>
	   hadoop守护进程日志输出被写入$HADOOP_LOG_DIR目录（默认为$HADOOP_HOME/logs）。</p>
<ol start="3">
<li>
<p>Browse the web interface for the NameNode; by default it is available at:<br>
▪  NameNode - <a href="http://localhost:9870/" target="_blank" rel="noopener">http://localhost:9870/</a><br>
浏览用于NameNode的网络接口；默认情况下，可以在：NameNode -  <a href="http://localhost:9870/" target="_blank" rel="noopener">http://localhost:9870/</a></p>
</li>
<li>
<p>Make the HDFS directories required to execute MapReduce jobs:<br>
创建执行MapReduce作业所需的HDFS目录：</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　$ bin/hdfs dfs -mkdir /user</span><br><span class="line">　　$ bin/hdfs dfs -mkdir /user/&lt;username&gt;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>Copy the input files into the distributed filesystem:<br>
将输入文件复制到分布式文件系统中：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　$ bin/hdfs dfs -mkdir input</span><br><span class="line">　　$ bin/hdfs dfs -put etc/hadoop/*.xml input</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>Run some of the examples provided:<br>
运行所提供的一些示例：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar grep input output &apos;dfs[a-z.]+&apos;</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>Examine the output files: Copy the output files from the distributed filesystem to the local filesystem and examine them:<br>
检查输出文件：将输出文件从分布式文件系统复制到本地文件系统，并检查它们：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　$ bin/hdfs dfs -get output output</span><br><span class="line">　　$ cat output/*</span><br></pre></td></tr></table></figure>
<p>or<br>
　　View the output files on the distributed filesystem:<br>
　　或者直接在分布式文件系统中查看：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ bin/hdfs dfs -cat output/*</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>When you’re done, stop the daemons with:<br>
完成后，使用以下命令停止守护进程：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ sbin/stop-dfs.sh</span><br></pre></td></tr></table></figure>
<h4 id="yarn-on-a-single-node">YARN on a Single Node</h4>
<p>You can run a MapReduce job on YARN in a pseudo-distributed mode by setting a few parameters and running ResourceManager daemon and NodeManager daemon in addition.<br>
The following instructions assume that 1. ~ 4. steps of the above instructions are already executed.</p>
<p>您可以通过设置一些参数并运行ResourceManager守护进程和NodeManager守护进程，在伪分布式模式下在YARN上运行MapReduce作业。<br>
下面的指令假设已经执行上述指令1. ~ 4. 的步骤。</p>
<ol>
<li>Configure parameters as follows:<br>
etc/hadoop/mapred-site.xml:</li>
</ol>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  &lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line">更多说明请参考mapred-default.xml，包含配置文件所有配置项的说明和默认值</span><br></pre></td></tr></table></figure>
<p>etc/hadoop/yarn-site.xml:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line">注：yarn.nodemanager.aux-services通过该配置，用户可以自定义一些服务</span><br><span class="line">更多说明请参考yarn-default.xml，包含配置文件所有配置项的说明和默认值</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Start ResourceManager daemon and NodeManager daemon:<br>
启动ResourceManager守护进程和NodeManager守护进程：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ sbin/start-yarn.sh</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>
<p>Browse the web interface for the ResourceManager; by default it is available at:<br>
浏览ResourceManager的网页界面；默认情况下，可以在：<br>
ResourceManager - <a href="http://localhost:8088/" target="_blank" rel="noopener">http://localhost:8088/</a></p>
</li>
<li>
<p>Run a MapReduce job.</p>
</li>
<li>
<p>When you’re done, stop the daemons with:<br>
完成后，使用以下命令停止守护进程：</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　$ sbin/stop-yarn.sh</span><br></pre></td></tr></table></figure>
<h4 id="fully-distributed-operation">Fully-Distributed Operation</h4>
<p>For information on setting up fully-distributed, non-trivial clusters see <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/ClusterSetup.html" target="_blank" rel="noopener">Cluster Setup</a>.</p>
<p>有关全分布集群设置的信息，请参见<a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/ClusterSetup.html" target="_blank" rel="noopener">Cluster Setup</a>.</p>

                

                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/article/3.Hadoop架构详解/" data-toggle="tooltip" data-placement="top" title=" Hadoop架构详解 ">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/article/hexo-theme-jepson/" data-toggle="tooltip" data-placement="top" title="欢迎来到我的大数据博客 ">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                <br>

                <!--打赏-->
                
                <!--打赏-->

                <br>
                <!--分享-->
                
                    <div class="social-share"  data-wechat-qrcode-helper="" align="center"></div>
                    <!--  css & js -->
                    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                
                <!--分享-->
                <br>                       
                
                <!-- require APlayer -->
                

                <!-- duoshuo Share start -->
                
                <!-- 多说 Share end-->

                <!-- 多说评论框 start -->
                
                <!-- 多说评论框 end -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->

                

            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

  
    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#hadoop官网翻译setting-up-a-single-node-cluster"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">hadoop&#x5B98;&#x7F51;&#x7FFB;&#x8BD1;:Setting up a Single Node Cluster.</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#hadoop-setting-up-a-single-node-cluster"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text">Hadoop: Setting up a Single Node Cluster.</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#purpose"><span class="toc-nav-number">1.2.</span> <span class="toc-nav-text">Purpose</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#prerequisites"><span class="toc-nav-number">1.3.</span> <span class="toc-nav-text">Prerequisites</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#supported-platforms"><span class="toc-nav-number">1.3.1.</span> <span class="toc-nav-text">Supported Platforms</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#required-software"><span class="toc-nav-number">1.3.2.</span> <span class="toc-nav-text">Required Software</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#installing-software"><span class="toc-nav-number">1.3.3.</span> <span class="toc-nav-text">Installing Software</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#download"><span class="toc-nav-number">1.4.</span> <span class="toc-nav-text">Download</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#prepare-to-start-the-hadoop-cluster"><span class="toc-nav-number">1.5.</span> <span class="toc-nav-text">Prepare to Start the Hadoop Cluster</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#standalone-operation"><span class="toc-nav-number">1.6.</span> <span class="toc-nav-text">Standalone Operation</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#pseudo-distributed-operation"><span class="toc-nav-number">1.7.</span> <span class="toc-nav-text">Pseudo-Distributed Operation</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#configuration"><span class="toc-nav-number">1.7.1.</span> <span class="toc-nav-text">Configuration</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#setup-passphraseless-ssh"><span class="toc-nav-number">1.7.2.</span> <span class="toc-nav-text">Setup passphraseless ssh</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#execution"><span class="toc-nav-number">1.7.3.</span> <span class="toc-nav-text">Execution</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#yarn-on-a-single-node"><span class="toc-nav-number">1.8.</span> <span class="toc-nav-text">YARN on a Single Node</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#fully-distributed-operation"><span class="toc-nav-number">1.9.</span> <span class="toc-nav-text">Fully-Distributed Operation</span></a></li></ol></li></ol>
        
        </div>
      </aside>
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#hadoop" title="hadoop">hadoop</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>
        </div>
    </div>
</article>








<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'rz'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


<!-- chrome Firefox 中文锚点定位失效-->
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
<!-- smooth scroll behavior polyfill  -->
<script type="text/javascript" src="/js/smoothscroll.js"></script>
<script>
        $('#toc').on('click','a',function(a){
            // var isChrome = window.navigator.userAgent.indexOf("Chrome") !== -1;
            // console.log(window.navigator.userAgent,isChrome)
                // if(isChrome) {
                    // console.log(a.currentTarget.outerHTML);
                    // console.log($(a.currentTarget).attr("href"));
                    //跳转到指定锚点
                    // document.getElementById(a.target.innerText.toLowerCase()).scrollIntoView(true);
                    document.getElementById($(a.currentTarget).attr("href").replace("#","")).scrollIntoView({behavior: 'smooth' });
                // }
        })  
</script>


    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                


<!-- 暗夜橙子页脚 -->
                <p class="copyright text-muted">
                    Copyright &copy; 2018 By 暗也橙子 | BigData
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://www.ruozedata.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = 'xxx';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>
<!-- Image to hack wechat -->
<img src="http://www.ruozedata.com/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
